
(function(f){var v=Math.PI,b=v/2,k=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()),h="ontouchstart" in window,r={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br"]},d=false,j,c={page:1,shadows:true,duration:600,acceleration:true,force_open:false},a={back:null,corners:"forward",cornerSize:100,shadows:true,duration:600,acceleration:true,force_open:false},o=function(B,A,z,y){return{css:{position:"absolute",top:B,left:A,overflow:y||"hidden","z-index":z||"auto"}}},m=function(E,D,C,B,A){var y=1-A,z=y*y*y,F=A*A*A;return g(Math.round(z*E.x+3*A*y*y*D.x+3*A*A*y*C.x+F*B.x),Math.round(z*E.y+3*A*y*y*D.y+3*A*A*y*C.y+F*B.y))},x=function(y){return y/180*v},n=function(y){return y/v*180},g=function(z,A){return{x:z,y:A}},l=function(z,B,A){return(k&&A)?" translate3d("+z+"px,"+B+"px, 0px) ":" translate("+z+"px, "+B+"px) "},t=function(y){return" rotate("+y+"deg) "},u={updateOptions:function(z,B){B=typeof B!=="undefined"?B:{};var C=this.data(),y=C.pages;for(var A in y){y[A].data().pageFlip.opt=f.extend(y[A].data().pageFlip.opt,z,B)}C.opt=f.extend(C.opt,z)},updatePageOptions:function(A){var B=this.data(),y=B.pages;for(var z in y){y[z].data().pageFlip.opt=f.extend(y[z].data().pageFlip.opt,A)}},init:function(z){var B,D,C=this.data(),A=this.children(),y=A.length;z=f.extend({width:this.width(),height:this.height()},c,z);C.opt=z;C.pageObjs={};C.pages={};C.pageWrap={};C.pagePlace={};C.pageMv=[];C.totalPages=y;this.css({position:"relative"});if(k&&!h&&z.acceleration){this.transform(l(0,0,true))}for(B=1;B<=y;B++){C.pagePlace[B]=B;C.pageObjs[B]=f(A[B-1]).addClass("turn-page p"+B);C.pageWrap[B]=f("<div/>",{"class":"turn-page-wrapper",css:{position:"absolute"}}).attr("page",B).appendTo(this).prepend(C.pageObjs[B])}for(B=1;B<=y;B++){D=B%2==0;C.pages[B]=C.pageWrap[B].css((D)?{top:0,left:0}:{top:0,right:0}).children(":first").flip({next:(D)?B-1:B+1,page:B,turn:this,force_open:z.force_open,duration:z.duration,acceleration:z.acceleration,corners:(D)?"backward":"forward",back:(D)?C.pageObjs[B-1]:C.pageObjs[B+1],backShadow:z.shadows&&B!=2&&B!=y-1,frontShadow:z.shadows}).bind("pressed",u._pressed).bind("released",u._released).bind("start",u._start).bind("end",u._end).bind("flip",u._flip)}d=z.force_open;if(z.force_open){z.page=Math.max(Math.min(z.page,C.totalPages-1),2)}u.page.call(this,z.page);C.done=true;this.turn("size",z.width,z.height);return this},size:function(A,y){if(A&&y){var C=this.data(),z=A/2,B;this.css({width:A,height:y});for(B=1;B<=C.totalPages;B++){C.pageWrap[B].css({width:z,height:y});if(C.pages[B]){C.pages[B].css({width:z,height:y})}}this.turn("resize");return this}else{return{width:this.width(),height:this.height()}}},_visiblePages:function(y){var y=y||this.data().page;return(y%2==0)?[y,y+1]:[y-1,y]},_removeMv:function(z){var y,A=this.data();for(y=0;y<A.pageMv.length;y++){if(A.pageMv[y]==z){A.pageMv.splice(y,1);y--}}},_addMv:function(y){var z=this.data();u._removeMv.call(this,y);z.pageMv.push(y)},view:function(z){var A=this.data(),y=u._visiblePages.call(this,z);return[(A.pages[y[0]])?y[0]:0,(A.pages[y[1]])?y[1]:0]},stop:function(){var B=this.data(),z;B.pageMv=[];if(B.tpage){B.page=B.tpage;delete B.tpage}this.turn("update");for(z=1;z<=B.totalPages;z++){var y=B.pages[z].data(),A=y.pageFlip.opt;B.pages[z].flip("hideThumbIndex");s._moveBackPage.call(B.pages[z],null);B.pagePlace[A.next]=A.next;if(A.force){A.next=(A.page%2==0)?A.page-1:A.page+1;B.pages[z].flip("setBackPage",B.pageObjs[A.next]);delete A.force}}return this},page:function(A){var E=this.data(),y=this.turn("view");if(pg=E.pages[A]){if(!E.done||(!y[0]||A>=y[0])&&(!y[1]||A<=y[1])){E.tpage=A;this.turn("stop");this.trigger("turned",[A,pg])}else{E.tpage=A;this.turn("stop");var C,z,F=this.turn("view",A);if(y[1]&&A>y[1]){C=y[1];z=F[0]}else{if(y[0]&&A<y[0]){C=y[0];z=F[1]}}var D=E.pages[C].data().pageFlip.opt,B;E.tpage=z;if(D.next!=z){D.next=z;E.pagePlace[D.next]=D.page;D.force=true;s._moveBackPage.call(E.pages[C],false);E.pages[C].flip("setBackPage",E.pageObjs[z])}E.pages[C].flip("turnPage")}}else{return y[0]||y[1]}if(A&&E.opt.force_open){e(A,E.totalPages)}return this},next:function(){if((!this.data().opt.force_open)||(this.data().opt.force_open&&!q(this.data().page,"next",this.data().totalPages))){u._moveTo.call(this,1)}return this},previous:function(){if((!this.data().opt.force_open)||(this.data().opt.force_open&&!q(this.data().page,"previous",this.data().totalPages))){u._moveTo.call(this,-1)}return this},_moveTo:function(C){var y,E=this.data(),B=u._visiblePages.call(this,E.tpage||E.page)[(C==1)?1:0],z=B+C,A=function(F){return E.pages[F].data().pageFlip};for(y=0;y<E.pageMv.length;y++){if(A(E.pageMv[y]).opt.force){this.turn("stop");break}}if(E.pages[z]){if(E.pages[z]){if(E.pages[z].flip("moving")||E.pagePlace[B]==z){var D=A(z).opt;u._removeMv.call(this,D.pageMv);u._addMv.call(this,B);E.tpage=z;D.pageMv=B;E.pages[z].flip("hideThumbIndex",true);E.pages[B].trigger("flip");this.turn("update")}else{E.tpage=z;if(A(B).fwrapper.is(":visible")){var D=A(B).opt;u._removeMv.call(this,D.pageMv);u._addPage.call(E.pages[B])}E.pages[B].flip("turnPage")}}}},_addPage:function(){var A=f(this).data().pageFlip.opt,z=A.turn,y=z.data();A.pageMv=A.page;u._addMv.call(z,A.pageMv);y.pagePlace[A.next]=A.page;z.turn("update")},_start:function(y){var z=f(this).data().pageFlip.opt;y.stopPropagation();u._addPage.call(this);z.turn.trigger("start",[z.page])},_end:function(C,B){C.stopPropagation();var A=f(this),D=A.data().pageFlip.opt,z=D.turn,y=z.data();if(B||y.tpage){if(y.tpage==D.next||y.pageMv.length==0){y.page=y.tpage||D.next;delete y.tpage;z.turn("page",y.page)}if(D.force){D.next=(D.page%2==0)?D.page-1:D.page+1;A.flip("setBackPage",z.data().pageObjs[D.next]);delete D.force}}else{u._removeMv.call(z,D.pageMv);z.turn("update")}z.trigger("end",[D.page,this])},resize:function(){var y=this.data();for(p=1;p<=y.totalPages;p++){y.pages[p].flip("resize",true)}},calculateZ:function(P){var G=this,I=this.data(),J,N,B,O,L,C=I.totalPages,H=P.length,y={pageZ:{},partZ:{},pageV:{}},E=function(z){return z.data().pageFlip.opt.next},K=function(Q){var z=G.turn("view",Q);if(z[0]){y.pageV[z[0]]=true}if(z[1]){y.pageV[z[1]]=true}};var M=this.turn("view"),A=M[0]||M[1];for(var D=0;D<H;D++){J=P[D];N=E(I.pages[J]);B=I.pagePlace[J];K(J);K(N);O=(I.pagePlace[N]==N)?N:J;L=I.totalPages-Math.abs(A-O);y.pageZ[O]=L;y.partZ[B]=I.totalPages*2+Math.abs(A-O);if(O%2!=0&&I.pages[O-1]){L=L-(H-1);y.pageZ[O-1]=L}else{if(O%2==0&&I.pages[O+1]){L=L-(O-1);y.pageZ[O+1]=L}}if(L<C){C=L}}for(var F in y.pageV){if(!y.pageZ[F]){y.pageZ[F]=--C}}return y},update:function(){var B,C=this.data();if(C.pageMv.length){var D=this.turn("calculateZ",C.pageMv),y=this.turn("view",C.tpage),z;if(C.pagePlace[y[0]]==y[0]){z=y[0]}else{if(C.pagePlace[y[1]]==y[1]){z=y[1]}}for(B=1;B<=C.totalPages;B++){C.pageWrap[B].css({display:(D.pageV[B])?"":"none","z-index":D.pageZ[B]||0});C.pages[B].flip("z",D.partZ[B]||null);if(D.pageV[B]){C.pages[B].flip("resize")}if(C.tpage){C.pages[B].flip("disable",B!=z)}}}else{var A,y=this.turn("view");for(B=1;B<=C.totalPages;B++){if(A=(B==y[0]||B==y[1])){C.pageWrap[B].css({"z-index":C.totalPages,display:""})}else{if(B==y[0]-2||B==y[1]+2){C.pageWrap[B].css({"z-index":C.totalPages-1,display:""})}else{C.pageWrap[B].css({"z-index":0,display:"none"})}}C.pages[B].flip("z",null);C.pages[B].flip("disable",!A)}}},_pressed:function(){var C,A=f(this),D=A.data().pageFlip,z=D.opt.turn,B=D.opt.page,y=z.data().pages;for(C in y){if(C!=B){y[C].flip("disable",true)}}return this.time=new Date().getTime()},_released:function(B,A){var z=f(this),y=new Date().getTime()-this.time,C=z.data().pageFlip;if(y<200||A.x<0||A.x>f(this).width()){B.stopPropagation();C.opt.turn.data().tpage=C.opt.next;C.opt.turn.turn("update");f(z).flip("turnPage")}},_flip:function(){var y=f(this).data().pageFlip.opt;y.turn.trigger("turning",[y.next])},disable:function(y){var z=this.data(),y=(typeof(y)=="undefined")?true:y===true;for(p=1;p<=z.totalPages;p++){z.pages[p].flip("disable",y)}}},s={init:function(y){if(y.shadows){y.frontShadow=true;y.backShadow=true}s.setData.call(this,{opt:f.extend({},a,y)});s._addEvents.call(this);s._addPageWrapper.call(this);return this},setData:function(y){var z=this.data();z.pageFlip=f.extend(z.pageFlip||{},y)},_cAllowed:function(){return r[this.data().pageFlip.opt.corners]||this.data().pageFlip.opt.corners},_cornerActivated:function(C){C=(h)?C.originalEvent.touches:[C];var H,D=this.data().pageFlip,E=D.parent.offset(),z=this.width(),I=this.height(),G=Math.max(0,C[0].pageX-E.left),F=Math.max(0,C[0].pageY-E.top),A=D.opt.cornerSize,B=s._cAllowed.call(this);if(!D.opt.back||G<=0||F<=0||G>=z||F>=I){H=false}else{if(G<=A&&F<=A){H="tl"}else{if(G>=z-A&&F<=A){H="tr"}else{if(G<=A&&F>=I-A){H="bl"}else{if(G>=z-A&&F>=I-A){H="br"}else{return false}}}}}j=H;return(jQuery.inArray(H,B)!=-1)?{corner:H,x:G,y:F}:false},_c:function(y,z){z=z||0;return({tl:g(z,z),tr:g(this.width()-z,z),bl:g(z,this.height()-z),br:g(this.width()-z,this.height()-z)})[y]},_c2:function(y){return{tl:g(this.width()*2,0),tr:g(-this.width(),0),bl:g(this.width()*2,this.height()),br:g(-this.width(),this.height())}[y]},z:function(A){var y=this.data().pageFlip;y.opt["z-index"]=A;y.fwrapper.css({"z-index":A||parseInt(y.parent.css("z-index"))||0})},resize:function(A){var C=this.data().pageFlip,B=this.width(),y=this.height(),z=Math.round(Math.sqrt(Math.pow(B,2)+Math.pow(y,2)));if(A){C.wrapper.css({width:z,height:z});C.fwrapper.css({width:z,height:z}).children(":first-child").css({width:B,height:y});C.fpage.css({width:y,height:B});if(C.opt.frontShadow){C.ashadow.css({width:y,height:B})}if(C.opt.backShadow){C.bshadow.css({width:B,height:y})}}if(C.parent.is(":visible")){C.fwrapper.css({top:C.parent.offset().top,left:C.parent.offset().left});if(C.opt.turn){C.fparent.css({top:-C.opt.turn.offset().top,left:-C.opt.turn.offset().left})}}this.flip("z",C.opt["z-index"])},_addPageWrapper:function(){var C,B=this.data().pageFlip,E=this.parent();if(!B.wrapper){var A=this.css("left"),D=this.css("top"),z=this.width(),F=this.height(),G=Math.round(Math.sqrt(Math.pow(z,2)+Math.pow(F,2)));B.parent=E;B.fparent=(B.opt.turn)?B.opt.turn.data().fparent:f("#turn-fwrappers");if(!B.fparent){var y=f("<div/>").hide();y.data().flips=0;if(B.opt.turn){y.css(o(-B.opt.turn.offset().top,-B.opt.turn.offset().left,"auto","visible").css).appendTo(B.opt.turn);B.opt.turn.data().fparent=y}else{y.css(o(0,0,"auto","visible").css).attr("id","turn-fwrappers").appendTo(f("body"))}B.fparent=y}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"});B.wrapper=f("<div/>",o(0,0,this.css("z-index"))).appendTo(E).prepend(this);B.fwrapper=f("<div/>",o(E.offset().top,E.offset().left)).hide().appendTo(B.fparent);B.fpage=f("<div/>",{"class":"fpage",css:{cursor:"default"}}).appendTo(f("<div/>",o(0,0,0,"visible")).appendTo(B.fwrapper));if(B.opt.frontShadow){B.ashadow=f("<div/>",o(0,0,1)).appendTo(B.fpage)}if(B.opt.backShadow){B.bshadow=f("<div/>",o(0,0,1)).css({position:""}).appendTo(E)}s.setData.call(this,B);s.resize.call(this,true)}},_displayCorner:function(L){var F=this,V=0,D=0,T,I,C,A,z,E,J=g(0,0),R=g(0,0),y=g(0,0),N=this.width(),K=this.height(),Q=Math.tan(D),S=this.data().pageFlip,U=S.opt.acceleration,P=S.wrapper.height(),M=s._c.call(this,L.corner),H=L.corner.substr(0,1)=="t",B=L.corner.substr(1,1)=="l",O=function(){var ah=g((M.x)?M.x-L.x:L.x,(M.y)?M.y-L.y:L.y),ae=(Math.atan2(ah.y,ah.x)),ai;D=b-ae;V=n(D);ai=g((B)?N-ah.x/2:L.x+ah.x/2,ah.y/2);var Y=D-Math.atan2(ai.y,ai.x),X=Math.max(0,Math.sin(Y)*Math.sqrt(Math.pow(ai.x,2)+Math.pow(ai.y,2)));y=g(X*Math.sin(D),X*Math.cos(D));if(D>b){y.x=y.x+Math.abs(y.y*Math.tan(ae));y.y=0;if(Math.round(y.x*Math.tan(v-D))<K){L.y=Math.sqrt(Math.pow(K,2)+2*ai.x*ah.x);if(H){L.y=K-L.y}return O()}}I=Math.round(y.y/Math.tan(D)+y.x);if(B){I=N-I}var ad=(B)?I:N-I,aa=ad*Math.cos(D*2),Z=ad*Math.sin(D*2),ac=ad*Math.sin(D),W=s._c2.call(F,L.corner),ab=Math.sqrt(Math.pow(W.x-L.x,2)+Math.pow(W.y-L.y,2));R=g(Math.round(I+(B?-aa:aa)),Math.round((H)?Z:K-Z));E=(ab<N)?ab/N:1;if(D>b){var af=v-D,ag=P-K/Math.sin(af);J=g(Math.round(ag*Math.cos(af)),Math.round(ag*Math.sin(af)));if(B){J.x=-J.x}if(H){J.y=-J.y}}if(S.opt.frontShadow){z=ac>100?(ac-100)/ac:0;C=g(ac*Math.sin(b-D)/K*100,ac*Math.cos(b-D)/N*100);if(H){C.y=100-C.y}if(B){C.x=100-C.x}}if(S.opt.backShadow){A=g(ac*Math.sin(D)/N*100,ac*Math.cos(D)/K*100);if(!B){A.x=100-A.x}if(!H){A.y=100-A.y}}y.x=Math.round(y.x);y.y=Math.round(y.y);return true},G=function(ab,ad,W,X){var aa=["0","auto"],ac=(N-P)*W[0]/100,Z=(K-P)*W[1]/100,W=W[0]+"% "+W[1]+"%",Y={left:aa[ad[0]],top:aa[ad[1]],right:aa[ad[2]],bottom:aa[ad[3]]};F.css(Y).transform(t(X)+l(ab.x,ab.y,U),W);S.fpage.parent().css(Y);S.wrapper.transform(l(-ab.x+ac,-ab.y+Z,U)+t(-X),W);S.fwrapper.transform(l(-ab.x+J.x+ac,-ab.y+J.y+Z,U)+t(-X),W);S.fpage.parent().transform(t(X)+l(ab.x+R.x-J.x,ab.y+R.y-J.y,U),W);if(S.opt.frontShadow){S.ashadow.css({"background-image":"-webkit-gradient(linear, "+(B?100:0)+"% "+(H?100:0)+"%, "+C.x+"% "+C.y+"%, color-stop("+z+",rgba(0,0,0,0)), color-stop("+(((1-z)*0.8)+z)+",rgba(0,0,0,"+(0.2*E)+")), to(rgba(255,255,255,"+(0.2*E)+")) )"})}if(S.opt.backShadow){S.bshadow.css({"background-image":"-webkit-gradient(linear, "+(B?0:100)+"% "+(H?0:100)+"%, "+A.x+"% "+A.y+"%,  color-stop(0.8,rgba(0,0,0,0)), color-stop(1, rgba(0,0,0,"+(0.2*E)+")), to(rgba(0,0,0,0)) )"})}};switch(L.corner){case"tl":L.x=Math.max(L.x,1);O();G(y,[1,0,0,1],[100,0],V);S.fpage.transform(l(-K,-N,U)+t((90-V*2).toFixed(4)),"100% 100%");S.opt.back.transform(t(90)+l(0,-K,U),"0% 0%");break;case"tr":L.x=Math.min(L.x,N-1);O();G(g(-y.x,y.y),[0,0,0,1],[0,0],-V);S.fpage.transform(l(0,-N,U)+t((-90+V*2).toFixed(4)),"0% 100%");S.opt.back.transform(t(270)+l(-N,0,U),"0% 0%");break;case"bl":L.x=Math.max(L.x,1);O();G(g(y.x,-y.y),[1,1,0,0],[100,100],-V);S.fpage.transform(l(-K,0,U)+t((-90+V*2).toFixed(4)),"100% 0%");S.opt.back.transform(t(270)+l(-N,0,U),"0% 0%");break;case"br":L.x=Math.min(L.x,N-1);O();G(g(-y.x,-y.y),[0,1,1,0],[0,100],V);S.fpage.transform(t((90-V*2).toFixed(4)),"0% 0%");S.opt.back.transform(t(90)+l(0,-K,U),"0% 0%");break}S.p=L},setBackPage:function(y){var z=this.data().pageFlip;z.opt.back=y;z.backParent=y.parent()},_moveBackPage:function(z){var B=this.data().pageFlip;if(B.opt.back){var y=navigator.userAgent;if(y.indexOf("Chrome/17.")!=-1||y.indexOf("Chrome/18.")!=-1){var A=B.opt.back.css("background-image");B.opt.back.css({"background-image":""}).css({"background-image":A})}if(z){if(!((B.ashadow?"1":"0") in B.fpage.children())){s.setData.call(this,{backParent:B.opt.back.parent()});B.fpage.prepend(B.opt.back)}}else{if(B.backParent){B.backParent.prepend(B.opt.back)}}}},_showThumbIndex:function(D,z){var y=this.data(),C=y.pageFlip;if(C.opt.back){if(z){var A=this,B=C.p||s._c.call(this,D.corner,1);this.animatef({from:[B.x,B.y],to:[D.x,D.y],duration:500,frame:function(E){s._displayCorner.call(A,{corner:D.corner,x:E[0],y:E[1]})}})}else{s._displayCorner.call(this,D);if(y.effect&&!y.effect.turning){this.animatef(false)}}if(!C.fwrapper.is(":visible")){C.fparent.show().data().flips++;s._moveBackPage.call(this,true);C.fwrapper.show();if(C.opt.backShadow){C.bshadow.show()}this.trigger("start")}}},hide:function(){var y=this.data().pageFlip;if((--y.fparent.data().flips)==0){y.fparent.hide()}this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform("","0% 100%");y.wrapper.transform("","0% 100%");y.fwrapper.hide();if(y.opt.backShadow){y.bshadow.hide()}y.opt.back.transform("","0% 0%")},hideThumbIndex:function(A){var B=this.data().pageFlip;if(!B.p){return}var z=this,H=B.p,y=function(){B.p=null;z.flip("hide");z.trigger("end",[false])};if(A){var G,E,D=s._c.call(this,H.corner),C=(H.corner.substr(0,1)=="t"),F=Math.abs((H.y-D.y)/2);G=g(H.x,H.y+F);E=g(D.x,(C)?D.y+F:D.y-F);this.animatef({from:0,to:1,frame:function(I){var J=m(H,G,E,D,I);J.corner=H.corner;s._displayCorner.call(z,J)},complete:y,duration:800,hiding:true})}else{this.animatef(false);y()}},turnPage:function(){var A=this,C=this.data().pageFlip,z=(C.cornerActivated)?C.cornerActivated.corner:s._cAllowed.call(this)[0],B=C.p||s._c.call(this,z),y=s._c2.call(this,z);if(C.opt.force_open){e(C.opt.next,C.opt.turn.data().totalPages)}this.trigger("flip");this.animatef({from:0,to:1,frame:function(D){var E=m(B,B,y,y,D);E.corner=z;s._showThumbIndex.call(A,E)},complete:function(){A.trigger("end",[true])},duration:C.opt.duration,turning:true});C.cornerActivated=null},moving:function(){return"effect" in this.data()},isTurning:function(){return(this.flip("moving")&&this.data().effect.turning)},_addEvents:function(){var z=this,y=(h)?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"};f(document).bind(y.start,function(){return s._eventStart.apply(z,arguments)}).bind(y.move,function(){s._eventMove.apply(z,arguments)}).bind(y.end,function(){s._eventEnd.apply(z,arguments)})},_eventStart:function(y){var z=this.data().pageFlip;if(!z.disabled&&!this.flip("isTurning")){z.cornerActivated=s._cornerActivated.call(this,y);if(z.cornerActivated){s._moveBackPage.call(this,true);this.trigger("pressed",[z.p]);return false}}},_eventMove:function(z){var y=this.data(),A=y.pageFlip,z=(h)?z.originalEvent.touches:[z];if(!A.disabled){if(A.cornerActivated){var C=A.parent.offset();s._showThumbIndex.call(this,{corner:A.cornerActivated.corner,x:z[0].pageX-C.left,y:z[0].pageY-C.top})}else{if(!y.effect&&!h){if(corner=s._cornerActivated.call(this,z[0])){var B=s._c.call(this,corner.corner,A.opt.cornerSize/2);s._showThumbIndex.call(this,{corner:corner.corner,x:B.x,y:B.y},true)}else{s.hideThumbIndex.call(this,true)}}}}},_eventEnd:function(){var z=this.data().pageFlip;if(!z.disabled&&z.cornerActivated){var y=jQuery.Event("released");this.trigger(y,[z.p]);if(!y.isPropagationStopped()){s.hideThumbIndex.call(this,true)}}z.cornerActivated=null},disable:function(y){s.setData.call(this,{disabled:y})}},i=function(A,y,z){if(!z[0]||typeof(z[0])=="object"){return y.init.apply(A,z)}else{if(y[z[0]]&&z[0].toString().substr(0,1)!="_"){return y[z[0]].apply(A,Array.prototype.slice.call(z,1))}else{throw z[0]+" is an invalid value"}}};var q=function(B,y,A){var z=false;if(B<=3&&y=="previous"){z=true}if(B+2>=A&&y=="next"){z=true}return z};var e=function(z,y){if(d){return}if(z<=3){r={backward:[],forward:["tr","br"],all:["tr","br"]}}else{if(z+2>=y){r={backward:["tl","bl"],forward:[],all:["tl","bl"]}}else{r={backward:["tl","bl"],forward:["tr","br"],all:["tl","bl","tr","br"]}}}};f(window).on("rfbwp-update-corners",e);var w=function(){r={backward:[],forward:[],all:[]}};f(window).on("rfbwp-disable-corners",w);f.extend(f.fn,{flip:function(z,y){return i(this,s,arguments)},turn:function(y){return i(this,u,arguments)},activePageCorner:function(){return j},transform:function(y,z){if(z){this.css({"transform-origin":z,"-moz-transform-origin":z,"-o-transform-origin":z,"-webkit-transform-origin":z,"-ms-transform-origin":z})}return this.css({transform:y,"-moz-transform":y,"-o-transform":y,"-webkit-transform":y,"-ms-transform":y})},animatef:function(y){var F=this.data();if(F.effect){clearInterval(F.effect.handle)}if(y){if(!y.to.length){y.to=[y.to]}if(!y.from.length){y.from=[y.from]}if(!y.easing){y.easing=function(I,J,H,L,K){return L*Math.sqrt(1-(J=J/K-1)*J)+H}}var B,G=[],E=y.to.length,D=this,z=y.fps||30,A=-z,C=function(){var I,H=[];A=Math.min(y.duration,A+z);for(I=0;I<E;I++){H.push(y.easing(1,A,y.from[I],G[I],y.duration))}y.frame((E==1)?H[0]:H);if(A==y.duration){clearInterval(F.effect.handle);delete F.effect;D.data(F);if(y.complete){y.complete()}}};for(B=0;B<E;B++){G.push(y.to[B]-y.from[B])}F.effect=y;F.effect.handle=setInterval(C,z);this.data(F);C()}else{delete F.effect}}});f.has3d=k;f.isTouch=h})(jQuery);