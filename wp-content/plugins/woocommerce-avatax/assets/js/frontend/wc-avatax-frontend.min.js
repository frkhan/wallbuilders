"use strict";jQuery(document).ready(function(l){var _=window.wc_avatax_frontend;l(document).on("change","form.woocommerce-checkout .country_select",function(){var e;if(l(this).is("#billing_country")){if(l("#ship-to-different-address-checkbox").is(":checked"))return;e=l('.wc_avatax_validate_address[data-address-type="billing"]')}else e=l('.wc_avatax_validate_address[data-address-type="shipping"]');-1<l.inArray(l(this).val(),_.address_validation_countries)?l(e).show():l(e).hide()}),l(document).on("change","form.woocommerce-checkout #ship-to-different-address-checkbox",function(){l(this).is(":checked")?l('.wc_avatax_validate_address[data-address-type="billing"]').hide():-1<l.inArray(l("#billing_country").val(),_.address_validation_countries)&&l('.wc_avatax_validate_address[data-address-type="billing"]').show()}),l("form.woocommerce-checkout .country_select").change(),l("form.woocommerce-checkout #ship-to-different-address-checkbox").change(),l(".wc_avatax_validate_address").on("click",function(e){e.preventDefault();var a,o,c,t,d,r,s,i=l("form.woocommerce-checkout");1!==i.data()["blockUI.isBlocked"]&&i.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a=l(this).data("address-type"),o=l("input#"+a+"_address_1").val(),c=l("input#"+a+"_address_2").val(),t=l("#"+a+"_city").val(),d=l("#"+a+"_state").val(),r=l("#"+a+"_country").val(),s=l("input#"+a+"_postcode").val();var n={action:"wc_avatax_validate_customer_address",nonce:_.address_validation_nonce,type:a,address_1:o,address_2:c,city:t,state:d,country:r,postcode:s};l.ajax({type:"POST",url:_.ajax_url,data:n,dataType:"json",success:function(e){var a=!1;200===e.code?(l.each(e.address,function(e,a){l("#"+e).val(a).trigger("change")}),a='<div class="woocommerce-message">'+_.i18n.address_validated+"</div>"):e.error&&(a='<div class="woocommerce-error">'+e.error+"</div>"),a&&(l(".woocommerce-error, .woocommerce-message").remove(),i.prepend(a),l("html, body").animate({scrollTop:l(i).offset().top-100},1e3)),i.unblock(),l(document.body).trigger("update_checkout")}})})});